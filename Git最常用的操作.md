# Git 最常用的操作

[廖雪峰的博客](https://www.liaoxuefeng.com/)

## 创建仓库

在配置好Git，并将其和Github连接起来后，可以用以下步骤建立仓库。

1. 在Github上创建仓库，并选择仓库的.gitingore文件（git可以自动忽略掉一些临时，或者程序自动生成的中间文件
2. 在网页上点击按钮 Clone or Download 到本地，并复制弹出的连接 `git@github.com:MrGodfrey/learnGit.git` 
3. 在本地的想要存放Git仓库的文件夹中，运行 PowerShell， 并输入命令 `git clone git@github.com:MrGodfrey/learnGit.git`

这样的操作还可以自动把Github上的远程分支和本地关联起来，免得之后的麻烦。

## 删除仓库

1. 本地上直接删除文件夹即可
2. Github上，点击仓库的Setting， 然后拉到最下方，点击删除即可。

## 保存更改

### 检查状态

`git status` 可以检查当前仓库的状态，哪些文件被修改过，哪些文件被删除了等等。

### 暂存更改

`git stage .` 可以暂存当前仓库的所有更改，注意会覆盖已经有的暂存。

`git stage <file>` 可以指定暂存某个文件。

### 创建提交

`git commit` 可以快速创建提交，提交相当于把当前**已暂存**的仓库状态打包成一个快照。

配置好后可在自动打开的VSCode界面中写入 commit 的信息，注意最好有意义，这样将来可以更好的查找。

### 撤销修改

当你一不小心改炸了文件内容，没有关系

`git checkout -- <file>` 可以将 file 的状态回退到上一次添加到暂存区的状态。 **注意这一步没法回退**

如果连暂存区内的修改都不想要了，可以用

`git reset HEAD <file>`  把暂存区内的修改撤销暂存，重新放在工作区。

## 分支操作

Git 真正强大的地方在于可以无痛创建分支并在分支间穿梭和合并，Git是鼓励大量使用分支操作的，所以学会分支，也就学会了Git。

分支就像平行宇宙，你可以在各个分支上工作，而不会对其他分支造成影响。

如何使用分支是一门学问，有很多模型可以参考，但我们一般用如下的模型就够了。

如果有几个人一起对一个仓库进行修改，则一般创建以下各分支

**master 分支** 用来保存稳定的文件版本，每个人都需要小心尽量不对master分支做回退的修改，因为其他人将依托于master分支进行工作。

所以写笔记时，不怎么会改的内容就可以加到这个分支上。

**dev 分支**  用来保存较为稳定的版本，可能会回退或者修改。一般每个人将自己的修改都合并到这个开发分支上。

对于写笔记这种需求来说，这个分支可有可无。但是对于开发一个软件来说，需要这个分支来保存不那么稳定的版本。

**本地分支** 每个人在本地新建的分支，不必上传到远程仓库。会经常修改，添加，删除等等。

[以玩游戏的方向学习分支操作的网站](https://learngitbranching.js.org/)

这个游戏网站真的挺好玩的，但是做到后面头大，还有些高级功能还没学习。

### 查看分支状态

`git branch` 可以查看分支状态，当前分支用 * 在前方标出。

`git fetch; git remote show origin` 可以查看分支与远程仓库对应分支的同步状态。

### 创建分支

`git branch dev` 可以创建名为dev的分支

`git checkout dev` 可以检出 dev 分支，~~也就是把HEAD指针（指向当前工作区的快照）指向 dev 分支。~~

上述两条命令也可以简化为 `git checkout -b dev`

### 切换分支

`git checkout dev` 切换到 dev 分支

### 删除分支

`git branch -d dev` 可以删除 dev 分支，（前提是已经将其与其他分支合并）

### 合并分支

如果没有冲突的话，检出 master 分支并用命令

`git merge dev` 可以将 dev 分支合并到 master 分支。

### 重置状态

`git reset <hash>` 可以将当前的分支退回到之前的提交，就好像之后的提交从未发生过，但是注意这对远程分支是没有用的。

`git reverse <hash>` 可以新建一个提交，内容是 `<hash>` 之前的一次提交.

## 整理提交记录






# 高级版

## 创建仓库

在本地创建仓库。

TODO

在想要创建仓库的地方，命令 `git init [project-name]` 可以创建仓库。

